env:
  OLLAMA_ENDPOINT: http://localhost:11434
  OLLAMA_MODEL: llama3.2:1b
  ES_ENDPOINT: https://localhost:9200
  ES_USERNAME: admin
  ES_PASSWORD: 45ff432a5428ade77c7b
  SERV_BINDING: localhost:2900

coco:
  ollama:
    endpoint: $[[env.OLLAMA_ENDPOINT]]
    model: $[[env.OLLAMA_MODEL]]
    keepalive: 30m

elastic:
  elasticsearch: prod
  enabled: true
  store:
    enabled: true
  orm:
    enabled: true
    index_prefix: "coco_"
    override_exists_template: true
    templates:
      "coco-search": |
        {
          "order": 10,
          "index_patterns": [
            "coco_*"
          ],
          "settings": {
            "index": {
              "analysis": {
                "analyzer": {
                  "suggest_text_search": {
                    "filter": [
                     "lowercase",
                      "word_delimiter"
                    ],
                    "tokenizer": "classic"
                  }
                }
              }
            }
          },
          "mappings": {}
        }

elasticsearch:
  - name: prod
    enabled: true
    endpoints:
      - $[[env.ES_ENDPOINT]]
    discovery:
      enabled: false
    basic_auth:
      username:  $[[env.ES_USERNAME]]
      password:  $[[env.ES_PASSWORD]]

web:
  enabled: true
  embedding_api: true
  network:
    binding: $[[env.SERV_BINDING]]
  tls:
    enabled: false
    skip_insecure_verify: true
    default_domain: "api.coco.rs"
    auto_issue:
      enabled: false
      email: "hello@infinilabs.com"
      include_default_domain: true
      domains:
        - "www.coco.rs"
      provider:
        tencent_dns:
          secret_id: $[[keystore.TENCENT_DNS_ID]] #./bin/coco keystore add TENCENT_DNS_ID
          secret_key: $[[keystore.TENCENT_DNS_KEY]] #./bin/coco keystore add TENCENT_DNS_KEY
